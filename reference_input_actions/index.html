
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Cours sur les environnements immersifs au Cégep de Victoriaville">
      
      
      
        <link rel="canonical" href="https://EnvImmersif-CegepVicto.github.io/reference_input_actions/">
      
      
        <link rel="prev" href="../intro_environnements_immersifs/">
      
      
        <link rel="next" href="../raycasting_3d_theorie/">
      
      
        
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>Input Actions Unity - Environnements Immersifs - Cégep de Victoriaville</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.618322db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#reference-rapide-unity-input-system-input-actions" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Environnements Immersifs - Cégep de Victoriaville" class="md-header__button md-logo" aria-label="Environnements Immersifs - Cégep de Victoriaville" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Environnements Immersifs - Cégep de Victoriaville
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Input Actions Unity
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Environnements Immersifs - Cégep de Victoriaville" class="md-nav__button md-logo" aria-label="Environnements Immersifs - Cégep de Victoriaville" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Environnements Immersifs - Cégep de Victoriaville
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Accueil
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Notes de cours
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Notes de cours
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../intro_environnements_immersifs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction aux environnements immersifs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Input Actions Unity
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Input Actions Unity
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pourquoi-utiliser-input-actions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pourquoi utiliser Input Actions?
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-creer-un-input-actions-asset" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Créer un Input Actions Asset
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Créer un Input Actions Asset">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-creer-un-asset" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.1 Créer un asset
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-comprendre-la-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.2 Comprendre la structure
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-creer-de-nouvelles-actions" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Créer de nouvelles actions
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Créer de nouvelles actions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-ajouter-une-action-map-si-necessaire" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.1 Ajouter une Action Map (si nécessaire)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-ajouter-une-action" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2 Ajouter une Action
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-configurer-le-type-daction" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.3 Configurer le type d'action
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-ajouter-un-binding-touchebouton" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.4 Ajouter un Binding (Touche/Bouton)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-actions-pre-configurees-utiles-pour-ar" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Actions pré-configurées utiles pour AR
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Actions pré-configurées utiles pour AR">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#action-point-position-du-pointeur" class="md-nav__link">
    <span class="md-ellipsis">
      
        Action Point (Position du pointeur)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#action-tap-toucherclic" class="md-nav__link">
    <span class="md-ellipsis">
      
        Action Tap (Toucher/Clic)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#action-hold-maintien-prolonge" class="md-nav__link">
    <span class="md-ellipsis">
      
        Action Hold (Maintien prolongé)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-generer-la-classe-c" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Générer la classe C
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Générer la classe C">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-activer-la-generation" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.1 Activer la génération
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-configuration-de-generation" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2 Configuration de génération
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-utiliser-la-classe-c-dans-vos-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Utiliser la classe C# dans vos scripts
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Utiliser la classe C# dans vos scripts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-initialiser-les-input-actions" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.1 Initialiser les Input Actions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-structure-de-la-classe-generee" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.2 Structure de la classe générée
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-relier-une-action-a-un-evenement-callbacks" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Relier une action à un événement (Callbacks)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Relier une action à un événement (Callbacks)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#les-trois-evenements-disponibles" class="md-nav__link">
    <span class="md-ellipsis">
      
        Les trois événements disponibles
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#61-sabonner-a-un-evenement" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.1 S'abonner à un événement
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-difference-entre-started-performed-canceled" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.2 Différence entre started, performed, canceled
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#63-quel-evenement-utiliser" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.3 Quel événement utiliser?
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-lire-des-valeurs-depuis-le-contexte" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. Lire des valeurs depuis le contexte
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. Lire des valeurs depuis le contexte">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71-lire-la-position-de-la-sourisdoigt-vector2" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.1 Lire la position de la souris/doigt (Vector2)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72-lire-un-bouton-bool" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.2 Lire un bouton (bool)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#73-lire-une-valeur-float" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.3 Lire une valeur float
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-retourner-differentes-valeurs-selon-linput-5-touches-5-valeurs" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. Retourner différentes valeurs selon l'input (5 touches → 5 valeurs)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. Retourner différentes valeurs selon l&#39;input (5 touches → 5 valeurs)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#methode-1-actions-multiples-recommande" class="md-nav__link">
    <span class="md-ellipsis">
      
        Méthode 1 : Actions multiples (recommandé)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methode-2-verifier-quelle-touche-a-ete-pressee" class="md-nav__link">
    <span class="md-ellipsis">
      
        Méthode 2 : Vérifier quelle touche a été pressée
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-configuration-input-actions-recommandee-pour-ar" class="md-nav__link">
    <span class="md-ellipsis">
      
        10. Configuration Input Actions recommandée pour AR
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="10. Configuration Input Actions recommandée pour AR">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#action-map-ar" class="md-nav__link">
    <span class="md-ellipsis">
      
        Action Map: "AR"
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#depannage-et-erreurs-courantes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Dépannage et erreurs courantes
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dépannage et erreurs courantes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-type-or-namespace-name-inputaction-could-not-be-found" class="md-nav__link">
    <span class="md-ellipsis">
      
        ❌ "The type or namespace name 'InputAction' could not be found"
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ambiguous-reference-between-unityengineinput-and-unityengineinputsystem" class="md-nav__link">
    <span class="md-ellipsis">
      
        ❌ "Ambiguous reference between UnityEngine.Input and UnityEngine.InputSystem"
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#les-actions-ne-se-declenchent-jamais" class="md-nav__link">
    <span class="md-ellipsis">
      
        ❌ Les actions ne se déclenchent jamais
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nullreferenceexception-au-demarrage" class="md-nav__link">
    <span class="md-ellipsis">
      
        ❌ "NullReferenceException" au démarrage
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resume-checklist-rapide" class="md-nav__link">
    <span class="md-ellipsis">
      
        Résumé - Checklist rapide
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ressources-complementaires" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ressources complémentaires
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#questions-de-comprehension" class="md-nav__link">
    <span class="md-ellipsis">
      
        Questions de compréhension
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../raycasting_3d_theorie/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Raycasting 3D
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Exercices pratiques
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Exercices pratiques
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../exercice_raycasting_peinture3d/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Exercice 1 - Raycasting 3D
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pourquoi-utiliser-input-actions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pourquoi utiliser Input Actions?
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-creer-un-input-actions-asset" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Créer un Input Actions Asset
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Créer un Input Actions Asset">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-creer-un-asset" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.1 Créer un asset
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-comprendre-la-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.2 Comprendre la structure
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-creer-de-nouvelles-actions" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Créer de nouvelles actions
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Créer de nouvelles actions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-ajouter-une-action-map-si-necessaire" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.1 Ajouter une Action Map (si nécessaire)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-ajouter-une-action" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2 Ajouter une Action
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-configurer-le-type-daction" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.3 Configurer le type d'action
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-ajouter-un-binding-touchebouton" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.4 Ajouter un Binding (Touche/Bouton)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-actions-pre-configurees-utiles-pour-ar" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Actions pré-configurées utiles pour AR
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Actions pré-configurées utiles pour AR">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#action-point-position-du-pointeur" class="md-nav__link">
    <span class="md-ellipsis">
      
        Action Point (Position du pointeur)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#action-tap-toucherclic" class="md-nav__link">
    <span class="md-ellipsis">
      
        Action Tap (Toucher/Clic)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#action-hold-maintien-prolonge" class="md-nav__link">
    <span class="md-ellipsis">
      
        Action Hold (Maintien prolongé)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-generer-la-classe-c" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Générer la classe C
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Générer la classe C">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-activer-la-generation" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.1 Activer la génération
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-configuration-de-generation" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2 Configuration de génération
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-utiliser-la-classe-c-dans-vos-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Utiliser la classe C# dans vos scripts
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Utiliser la classe C# dans vos scripts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-initialiser-les-input-actions" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.1 Initialiser les Input Actions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-structure-de-la-classe-generee" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.2 Structure de la classe générée
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-relier-une-action-a-un-evenement-callbacks" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Relier une action à un événement (Callbacks)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Relier une action à un événement (Callbacks)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#les-trois-evenements-disponibles" class="md-nav__link">
    <span class="md-ellipsis">
      
        Les trois événements disponibles
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#61-sabonner-a-un-evenement" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.1 S'abonner à un événement
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-difference-entre-started-performed-canceled" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.2 Différence entre started, performed, canceled
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#63-quel-evenement-utiliser" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.3 Quel événement utiliser?
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-lire-des-valeurs-depuis-le-contexte" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. Lire des valeurs depuis le contexte
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. Lire des valeurs depuis le contexte">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71-lire-la-position-de-la-sourisdoigt-vector2" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.1 Lire la position de la souris/doigt (Vector2)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72-lire-un-bouton-bool" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.2 Lire un bouton (bool)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#73-lire-une-valeur-float" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.3 Lire une valeur float
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-retourner-differentes-valeurs-selon-linput-5-touches-5-valeurs" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. Retourner différentes valeurs selon l'input (5 touches → 5 valeurs)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. Retourner différentes valeurs selon l&#39;input (5 touches → 5 valeurs)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#methode-1-actions-multiples-recommande" class="md-nav__link">
    <span class="md-ellipsis">
      
        Méthode 1 : Actions multiples (recommandé)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methode-2-verifier-quelle-touche-a-ete-pressee" class="md-nav__link">
    <span class="md-ellipsis">
      
        Méthode 2 : Vérifier quelle touche a été pressée
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-configuration-input-actions-recommandee-pour-ar" class="md-nav__link">
    <span class="md-ellipsis">
      
        10. Configuration Input Actions recommandée pour AR
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="10. Configuration Input Actions recommandée pour AR">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#action-map-ar" class="md-nav__link">
    <span class="md-ellipsis">
      
        Action Map: "AR"
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#depannage-et-erreurs-courantes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Dépannage et erreurs courantes
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dépannage et erreurs courantes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-type-or-namespace-name-inputaction-could-not-be-found" class="md-nav__link">
    <span class="md-ellipsis">
      
        ❌ "The type or namespace name 'InputAction' could not be found"
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ambiguous-reference-between-unityengineinput-and-unityengineinputsystem" class="md-nav__link">
    <span class="md-ellipsis">
      
        ❌ "Ambiguous reference between UnityEngine.Input and UnityEngine.InputSystem"
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#les-actions-ne-se-declenchent-jamais" class="md-nav__link">
    <span class="md-ellipsis">
      
        ❌ Les actions ne se déclenchent jamais
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nullreferenceexception-au-demarrage" class="md-nav__link">
    <span class="md-ellipsis">
      
        ❌ "NullReferenceException" au démarrage
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resume-checklist-rapide" class="md-nav__link">
    <span class="md-ellipsis">
      
        Résumé - Checklist rapide
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ressources-complementaires" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ressources complémentaires
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#questions-de-comprehension" class="md-nav__link">
    <span class="md-ellipsis">
      
        Questions de compréhension
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="reference-rapide-unity-input-system-input-actions">Référence rapide - Unity Input System (Input Actions)</h1>
<h3 id="pourquoi-utiliser-input-actions">Pourquoi utiliser Input Actions?</h3>
<p>✅ <strong>Multi-plateforme</strong> : Même code pour clavier/souris, tactile, manette<br />
✅ <strong>Rebinding</strong> : L'utilisateur peut changer les contrôles<br />
✅ <strong>Séparation</strong> : Configuration séparée du code<br />
✅ <strong>Événements</strong> : Système basé sur des callbacks </p>
<blockquote>
<p><strong>Important pour AR :</strong> En réalité augmentée, vous utiliserez principalement les actions <strong>Point</strong> (position du doigt) et <strong>Tap</strong> (toucher l'écran). Le système fonctionne automatiquement sur mobile.</p>
</blockquote>
<hr />
<h2 id="1-creer-un-input-actions-asset">1. Créer un Input Actions Asset</h2>
<h3 id="11-creer-un-asset">1.1 Créer un asset</h3>
<ol>
<li>Dans le Project (fenêtre Assets), clic droit</li>
<li><strong>Create → Input Actions</strong></li>
<li>Nommez-le <code>PlayerInputActions</code> (ou autre nom descriptif)</li>
<li>Double-cliquez dessus pour l'ouvrir</li>
</ol>
<blockquote>
<p><strong>Pour le cours :</strong> La plupart du temps vous modifierez le Input Action Asset par défault du projet.</p>
</blockquote>
<h3 id="12-comprendre-la-structure">1.2 Comprendre la structure</h3>
<p>L'éditeur d'Input Actions a trois colonnes :</p>
<pre><code>┌─────────────────┬──────────────────┬─────────────────────┐
│  Action Maps    │    Actions       │     Bindings        │
│  (Catégories)   │  (Ce qu'on fait) │  (Comment le faire) │
├─────────────────┼──────────────────┼─────────────────────┤
│  Player         │  Move            │  WASD               │
│  UI             │  Jump            │  Space              │
│  Menu           │  Fire            │  Mouse Left Click   │
└─────────────────┴──────────────────┴─────────────────────┘
</code></pre>
<ul>
<li><strong>Action Map</strong> : Ensemble d'actions liées (ex: "Player", "UI", "Menu")</li>
<li><strong>Action</strong> : Une action spécifique (ex: "Jump", "Fire", "Point")</li>
<li><strong>Binding</strong> : Quelle touche/bouton déclenche l'action</li>
</ul>
<hr />
<h2 id="2-creer-de-nouvelles-actions">2. Créer de nouvelles actions</h2>
<h3 id="21-ajouter-une-action-map-si-necessaire">2.1 Ajouter une Action Map (si nécessaire)</h3>
<ol>
<li>Cliquez sur le <strong>+</strong> à côté de "Action Maps"</li>
<li>Nommez-la (ex: "Gameplay", "AR", "Menu")</li>
</ol>
<blockquote>
<p>Par défaut, Unity crée souvent une map "Player" - vous pouvez l'utiliser directement.</p>
</blockquote>
<h3 id="22-ajouter-une-action">2.2 Ajouter une Action</h3>
<ol>
<li>Sélectionnez votre Action Map (ex: "Player")</li>
<li>Dans la colonne "Actions", cliquez sur <strong>+</strong></li>
<li>Nommez votre action (ex: "PlaceObject", "DeleteObject")</li>
</ol>
<h3 id="23-configurer-le-type-daction">2.3 Configurer le type d'action</h3>
<p>Chaque action a un <strong>Action Type</strong> :</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Usage</th>
<th>Exemple</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Button</strong></td>
<td>Action binaire (pressé/relâché)</td>
<td>Tirer, Sauter, Placer</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>Valeur continue</td>
<td>Position souris, Joystick</td>
</tr>
<tr>
<td><strong>Pass Through</strong></td>
<td>Valeur continue sans traitement</td>
<td>Position tactile brute</td>
</tr>
</tbody>
</table>
<p><strong>Pour la plupart des actions AR, utilisez Button.</strong></p>
<p><strong>Configuration :</strong></p>
<ol>
<li>Sélectionnez votre action</li>
<li>Dans l'Inspector (panneau de droite), choisissez <strong>Action Type</strong></li>
</ol>
<h3 id="24-ajouter-un-binding-touchebouton">2.4 Ajouter un Binding (Touche/Bouton)</h3>
<ol>
<li>Sélectionnez votre action</li>
<li>Dans la colonne "Bindings", cliquez sur <strong>+</strong></li>
<li>Choisissez le type :</li>
<li><strong>Add Binding</strong> : Touche/bouton simple</li>
<li><strong>Add Positive/Negative Binding</strong> : Pour axes (ex: gauche/droite)</li>
<li>
<p><strong>Add 2D Vector Composite</strong> : Pour mouvement (WASD, Joystick)</p>
</li>
<li>
<p>Cliquez sur le binding créé</p>
</li>
<li>Cliquez sur <strong>Path</strong> et sélectionnez la touche/bouton</li>
</ol>
<p><strong>Exemples courants :</strong></p>
<pre><code>Action: PlacerObjet
├─ Binding: Mouse → Left Button
└─ Binding: Touchscreen → Primary Touch → Tap

Action: SupprimerObjet
├─ Binding: Mouse → Right Button
└─ Binding: Touchscreen → Primary Touch → Long Press

Action: PositionPointeur
└─ Binding: Mouse → Position
</code></pre>
<hr />
<h2 id="3-actions-pre-configurees-utiles-pour-ar">3. Actions pré-configurées utiles pour AR</h2>
<h3 id="action-point-position-du-pointeur">Action Point (Position du pointeur)</h3>
<p><strong>Usage :</strong> Obtenir la position de la souris ou du doigt sur l'écran.</p>
<p><strong>Configuration :</strong></p>
<ol>
<li>Nom : <code>Point</code> ou <code>PointerPosition</code></li>
<li>Action Type : <strong>Value</strong></li>
<li>Control Type : <strong>Vector 2</strong></li>
<li>
<p>Bindings :</p>
</li>
<li>
<p>Mouse → Position</p>
</li>
<li>Touchscreen → Primary Touch → Position</li>
</ol>
<h3 id="action-tap-toucherclic">Action Tap (Toucher/Clic)</h3>
<p><strong>Usage :</strong> Détecter un tap/clic.</p>
<p><strong>Configuration :</strong></p>
<ol>
<li>Nom : <code>Tap</code> ou <code>PlaceObject</code></li>
<li>Action Type : <strong>Button</strong></li>
<li>
<p>Bindings :</p>
</li>
<li>
<p>Mouse → Left Button</p>
</li>
<li>Touchscreen → Primary Touch → Tap</li>
</ol>
<h3 id="action-hold-maintien-prolonge">Action Hold (Maintien prolongé)</h3>
<p><strong>Usage :</strong> Clic long pour supprimer, sélectionner, etc.</p>
<p><strong>Configuration :</strong></p>
<ol>
<li>Nom : <code>Hold</code> ou <code>LongPress</code></li>
<li>Action Type : <strong>Button</strong></li>
<li>
<p>Bindings :</p>
</li>
<li>
<p>Mouse → Right Button</p>
</li>
<li>
<p>Touchscreen → Primary Touch → Press</p>
</li>
<li>
<p>Dans le binding tactile, ajoutez une <strong>Interaction → Hold</strong></p>
</li>
<li>
<p>Configurez <strong>Hold Time</strong> (ex: 0.5 secondes)</p>
</li>
</ol>
<hr />
<h2 id="4-generer-la-classe-c">4. Générer la classe C</h2>
<p>Une fois vos actions configurées, vous devez générer une classe C# pour les utiliser dans vos scripts.</p>
<h3 id="41-activer-la-generation">4.1 Activer la génération</h3>
<ol>
<li>Sélectionnez votre Input Actions asset dans le Project</li>
<li>Dans l'Inspector, cochez <strong>Generate C# Class</strong></li>
<li>Cliquez sur <strong>Apply</strong></li>
</ol>
<h3 id="42-configuration-de-generation">4.2 Configuration de génération</h3>
<p><strong>Champs importants :</strong></p>
<ul>
<li><strong>C# Class Name</strong> : Nom de la classe générée (ex: <code>PlayerInputActions</code>)</li>
<li><strong>C# Class Namespace</strong> : Optionnel (laissez vide pour simplicité)</li>
<li><strong>C# Class File</strong> : Chemin où le fichier .cs sera créé</li>
</ul>
<p>Cliquez sur <strong>Apply</strong> pour générer le fichier .cs</p>
<blockquote>
<p><strong>Rappel :</strong> Chaque fois que vous modifiez vos actions, cliquez à nouveau sur <strong>Apply</strong> pour régénérer la classe.</p>
</blockquote>
<hr />
<h2 id="5-utiliser-la-classe-c-dans-vos-scripts">5. Utiliser la classe C# dans vos scripts</h2>
<h3 id="51-initialiser-les-input-actions">5.1 Initialiser les Input Actions</h3>
<pre><code class="language-csharp">using UnityEngine;

public class InputManager : MonoBehaviour
{
    private PlayerInputActions inputActions;

    void Awake()
    {
        // Créer une instance des Input Actions
        inputActions = new PlayerInputActions();
    }

    void OnEnable()
    {
        // IMPORTANT : Activer les actions
        inputActions.Enable();
    }

    void OnDisable()
    {
        // IMPORTANT : Désactiver pour éviter les fuites mémoire
        inputActions.Disable();
    }
}
</code></pre>
<p><strong>Points critiques :</strong></p>
<ul>
<li>✅ Créer dans <code>Awake()</code></li>
<li>✅ <code>Enable()</code> dans <code>OnEnable()</code></li>
<li>✅ <code>Disable()</code> dans <code>OnDisable()</code></li>
</ul>
<h3 id="52-structure-de-la-classe-generee">5.2 Structure de la classe générée</h3>
<p>Si vous avez une Action Map "Player" avec une action "Fire", la structure sera :</p>
<pre><code class="language-csharp">inputActions.Player.Fire
</code></pre>
<p><strong>Format général :</strong></p>
<pre><code class="language-csharp">inputActions.[ActionMap].[Action]
</code></pre>
<hr />
<h2 id="6-relier-une-action-a-un-evenement-callbacks">6. Relier une action à un événement (Callbacks)</h2>
<p>Il existe <strong>trois types d'événements</strong> pour chaque action :</p>
<h3 id="les-trois-evenements-disponibles">Les trois événements disponibles</h3>
<table>
<thead>
<tr>
<th>Événement</th>
<th>Déclenchement</th>
<th>Usage typique</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>started</strong></td>
<td>Dès que l'action commence</td>
<td>Préparer une action, feedback visuel</td>
</tr>
<tr>
<td><strong>performed</strong></td>
<td>Action complétée</td>
<td>Exécuter l'action principale</td>
</tr>
<tr>
<td><strong>canceled</strong></td>
<td>Action annulée/relâchée</td>
<td>Réinitialiser, arrêter une action</td>
</tr>
</tbody>
</table>
<h3 id="61-sabonner-a-un-evenement">6.1 S'abonner à un événement</h3>
<pre><code class="language-csharp">void OnEnable()
{
    inputActions.Enable();

    // S'abonner à l'événement &quot;performed&quot;
    inputActions.Player.Fire.performed += OnFirePerformed;
    inputActions.Player.Fire.started += OnFireStarted;
    inputActions.Player.Fire.canceled += OnFireCanceled;
}

void OnDisable()
{
    // IMPORTANT : Se désabonner pour éviter les erreurs
    inputActions.Player.Fire.performed -= OnFirePerformed;
    inputActions.Player.Fire.started -= OnFireStarted;
    inputActions.Player.Fire.canceled -= OnFireCanceled;

    inputActions.Disable();
}

// Méthodes appelées par les événements
void OnFirePerformed(UnityEngine.InputSystem.InputAction.CallbackContext context)
{
    Debug.Log(&quot;Fire performed!&quot;);
}

void OnFireStarted(UnityEngine.InputSystem.InputAction.CallbackContext context)
{
    Debug.Log(&quot;Fire started!&quot;);
}

void OnFireCanceled(UnityEngine.InputSystem.InputAction.CallbackContext context)
{
    Debug.Log(&quot;Fire canceled!&quot;);
}
</code></pre>
<h3 id="62-difference-entre-started-performed-canceled">6.2 Différence entre started, performed, canceled</h3>
<p><strong>Exemple avec un bouton simple :</strong></p>
<pre><code>Utilisateur appuie sur le bouton :
├─ started ───► Déclenché immédiatement
│
Utilisateur maintient :
├─ performed ─► Déclenché (action complète)
│
Utilisateur relâche :
└─ canceled ──► Déclenché au relâchement
</code></pre>
<p><strong>Exemple avec Hold Interaction (maintien 0.5s) :</strong></p>
<pre><code>Utilisateur appuie :
├─ started ───► Immédiat
│
Maintien &lt; 0.5s, puis relâche :
├─ canceled ──► Action annulée (pas assez long)
│
Maintien &gt; 0.5s :
└─ performed ─► Action complétée (assez long)
</code></pre>
<h3 id="63-quel-evenement-utiliser">6.3 Quel événement utiliser?</h3>
<p><strong>Pour la plupart des cas en AR, utilisez <code>performed</code> :</strong></p>
<pre><code class="language-csharp">inputActions.Player.Tap.performed += OnTap;

void OnTap(InputAction.CallbackContext context)
{
    // Placer un objet, tirer, etc.
}
</code></pre>
<p><strong>Utilisez <code>started</code> pour feedback instantané :</strong></p>
<pre><code class="language-csharp">inputActions.Player.Tap.started += OnTapStarted;

void OnTapStarted(InputAction.CallbackContext context)
{
    // Montrer un effet visuel de &quot;tap en cours&quot;
    ShowTapEffect();
}
</code></pre>
<p><strong>Utilisez <code>canceled</code> pour réinitialiser :</strong></p>
<pre><code class="language-csharp">inputActions.Player.Hold.canceled += OnHoldCanceled;

void OnHoldCanceled(InputAction.CallbackContext context)
{
    // Annuler l'action de maintien
    HideHoldIndicator();
}
</code></pre>
<hr />
<h2 id="7-lire-des-valeurs-depuis-le-contexte">7. Lire des valeurs depuis le contexte</h2>
<p>Le paramètre <code>CallbackContext context</code> contient les informations sur l'action déclenchée.</p>
<h3 id="71-lire-la-position-de-la-sourisdoigt-vector2">7.1 Lire la position de la souris/doigt (Vector2)</h3>
<p><strong>Idéalement</strong> si l'action Point est configurée, on peut toujours accéder à la position avec :</p>
<pre><code class="language-csharp">Vector2 positionEcran = controles.Player.Pointeur.ReadValue&lt;Vector2&gt;();
</code></pre>
<p>Sinon on prend beaucoup de ressources (1 événement déclenché à chaque petit mouvement):</p>
<pre><code class="language-csharp">using UnityEngine.InputSystem;

void OnEnable()
{
    inputActions.Enable();
    inputActions.Player.PointerPosition.performed += OnPointerMove;
}

void OnPointerMove(InputAction.CallbackContext context)
{
    // Lire la position (Vector2)
    Vector2 pointerPosition = context.ReadValue&lt;Vector2&gt;();

    Debug.Log($&quot;Position : {pointerPosition.x}, {pointerPosition.y}&quot;);
}
</code></pre>
<h3 id="72-lire-un-bouton-bool">7.2 Lire un bouton (bool)</h3>
<pre><code class="language-csharp">void OnFirePerformed(InputAction.CallbackContext context)
{
    // Pour les boutons, vous pouvez vérifier l'état
    bool isPressed = context.ReadValueAsButton();

    if (isPressed)
    {
        Debug.Log(&quot;Bouton pressé!&quot;);
    }
}
</code></pre>
<h3 id="73-lire-une-valeur-float">7.3 Lire une valeur float</h3>
<pre><code class="language-csharp">// Exemple : Trigger de manette (valeur de 0 à 1)
void OnTriggerPerformed(InputAction.CallbackContext context)
{
    float triggerValue = context.ReadValue&lt;float&gt;();
    Debug.Log($&quot;Trigger à {triggerValue * 100}%&quot;);
}
</code></pre>
<hr />
<h2 id="8-retourner-differentes-valeurs-selon-linput-5-touches-5-valeurs">8. Retourner différentes valeurs selon l'input (5 touches → 5 valeurs)</h2>
<h3 id="methode-1-actions-multiples-recommande">Méthode 1 : Actions multiples (recommandé)</h3>
<p>Créez une action par touche, chacune retournant une valeur différente.</p>
<p><strong>Dans Input Actions :</strong></p>
<pre><code>SelectColor1 → Binding: Keyboard/1
SelectColor2 → Binding: Keyboard/2
SelectColor3 → Binding: Keyboard/3
SelectColor4 → Binding: Keyboard/4
SelectColor5 → Binding: Keyboard/5
</code></pre>
<p><strong>Dans le code :</strong></p>
<pre><code class="language-csharp">void OnEnable()
{
    inputActions.Enable();
    inputActions.Player.SelectColor1.performed += ctx =&gt; ChangeColor(0);
    inputActions.Player.SelectColor2.performed += ctx =&gt; ChangeColor(1);
    inputActions.Player.SelectColor3.performed += ctx =&gt; ChangeColor(2);
    inputActions.Player.SelectColor4.performed += ctx =&gt; ChangeColor(3);
    inputActions.Player.SelectColor5.performed += ctx =&gt; ChangeColor(4);
}

void ChangeColor(int colorIndex)
{
    Color[] colors = { Color.red, Color.blue, Color.green, Color.yellow, Color.magenta };
    currentColor = colors[colorIndex];
    Debug.Log($&quot;Couleur changée : {currentColor}&quot;);
}
</code></pre>
<h3 id="methode-2-verifier-quelle-touche-a-ete-pressee">Méthode 2 : Vérifier quelle touche a été pressée</h3>
<p>Si vous voulez une seule action qui détecte plusieurs touches :</p>
<p><strong>Dans Input Actions :</strong></p>
<pre><code>SelectColor → Action Type: Button
  ├─ Binding: Keyboard/1
  ├─ Binding: Keyboard/2
  ├─ Binding: Keyboard/3
  ├─ Binding: Keyboard/4
  └─ Binding: Keyboard/5
</code></pre>
<p><strong>Dans le code :</strong></p>
<pre><code class="language-csharp">using UnityEngine.InputSystem;
using UnityEngine.InputSystem.Controls;

void OnEnable()
{
    inputActions.Enable();
    inputActions.Player.SelectColor.performed += OnColorSelect;
}

void OnColorSelect(InputAction.CallbackContext context)
{
    // Obtenir le contrôle qui a déclenché l'action
    if (context.control is KeyControl key)
    {
        switch (key.keyCode)
        {
            case Key.Digit1:
                ChangeColor(0);
                break;
            case Key.Digit2:
                ChangeColor(1);
                break;
            case Key.Digit3:
                ChangeColor(2);
                break;
            case Key.Digit4:
                ChangeColor(3);
                break;
            case Key.Digit5:
                ChangeColor(4);
                break;
        }
    }
}

void ChangeColor(int colorIndex)
{
    Color[] colors = { Color.red, Color.blue, Color.green, Color.yellow, Color.magenta };
    currentColor = colors[colorIndex];
}
</code></pre>
<h2 id="10-configuration-input-actions-recommandee-pour-ar">10. Configuration Input Actions recommandée pour AR</h2>
<p>Voici une configuration type pour votre projet AR :</p>
<h3 id="action-map-ar">Action Map: "AR"</h3>
<table>
<thead>
<tr>
<th>Action</th>
<th>Type</th>
<th>Bindings</th>
<th>Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Point</strong></td>
<td>Value (Vector2)</td>
<td>Mouse/Position, Touch/Position</td>
<td>Position du pointeur</td>
</tr>
<tr>
<td><strong>Tap</strong></td>
<td>Button</td>
<td>Mouse/Left, Touch/Tap</td>
<td>Placer objet</td>
</tr>
<tr>
<td><strong>Hold</strong></td>
<td>Button + Hold</td>
<td>Mouse/Right, Touch/Press + Hold(0.5s)</td>
<td>Supprimer objet</td>
</tr>
<tr>
<td><strong>Pinch</strong></td>
<td>Value (float)</td>
<td>Touch/Pinch</td>
<td>Zoom (optionnel)</td>
</tr>
<tr>
<td><strong>Rotate</strong></td>
<td>Value (float)</td>
<td>Touch/Twist</td>
<td>Rotation (optionnel)</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="depannage-et-erreurs-courantes">Dépannage et erreurs courantes</h2>
<h3 id="the-type-or-namespace-name-inputaction-could-not-be-found">❌ "The type or namespace name 'InputAction' could not be found"</h3>
<p><strong>Cause :</strong> Package Input System non installé</p>
<p><strong>Solution :</strong>
1. Window → Package Manager
2. Cherchez "Input System"
3. Cliquez Install</p>
<h3 id="ambiguous-reference-between-unityengineinput-and-unityengineinputsystem">❌ "Ambiguous reference between UnityEngine.Input and UnityEngine.InputSystem"</h3>
<p><strong>Cause :</strong> Ancien et nouveau système en conflit</p>
<p><strong>Solution :</strong></p>
<pre><code class="language-csharp">// Spécifier explicitement
using UnityEngine.InputSystem;

// OU renommer
using NewInput = UnityEngine.InputSystem;
</code></pre>
<h3 id="les-actions-ne-se-declenchent-jamais">❌ Les actions ne se déclenchent jamais</h3>
<p><strong>Causes possibles :</strong>
1. ❌ Oublié <code>inputActions.Enable()</code>
2. ❌ Pas régénéré la classe C# après modification
3. ❌ Pas désabonné/réabonné après modification</p>
<p><strong>Vérifications :</strong></p>
<pre><code class="language-csharp">void OnEnable()
{
    inputActions.Enable(); // ← Ne pas oublier!
    inputActions.Player.Fire.performed += OnFire;
}
</code></pre>
<h3 id="nullreferenceexception-au-demarrage">❌ "NullReferenceException" au démarrage</h3>
<p><strong>Cause :</strong> <code>inputActions</code> non initialisé</p>
<p><strong>Solution :</strong></p>
<pre><code class="language-csharp">void Awake()
{
    inputActions = new PlayerInputActions(); // ← Obligatoire!
}
</code></pre>
<hr />
<h2 id="resume-checklist-rapide">Résumé - Checklist rapide</h2>
<p>Configuration :</p>
<ul>
<li>[ ] Créer Input Actions Asset</li>
<li>[ ] Ajouter Action Map et Actions</li>
<li>[ ] Configurer Action Type et Control Type</li>
<li>[ ] Ajouter Bindings (touches/boutons)</li>
<li>[ ] Cocher "Generate C# Class" et Apply</li>
</ul>
<p>Utilisation :</p>
<ul>
<li>[ ] Créer instance dans <code>Awake()</code></li>
<li>[ ] <code>Enable()</code> dans <code>OnEnable()</code></li>
<li>[ ] S'abonner aux événements (<code>performed</code>, <code>started</code>, <code>canceled</code>)</li>
<li>[ ] Lire les valeurs avec <code>context.ReadValue&lt;T&gt;()</code></li>
<li>[ ] Se désabonner dans <code>OnDisable()</code></li>
<li>[ ] <code>Disable()</code> dans <code>OnDisable()</code></li>
</ul>
<hr />
<h2 id="ressources-complementaires">Ressources complémentaires</h2>
<ul>
<li><a href="https://docs.unity3d.com/Packages/com.unity.inputsystem@latest">Documentation Input System</a></li>
<li><a href="https://docs.unity3d.com/Packages/com.unity.inputsystem@1.18/manual/QuickStartGuide.html">Input System Guide</a></li>
<li><a href="https://docs.unity3d.com/Packages/com.unity.inputsystem@1.18/manual/Actions.html">Actions Reference</a></li>
</ul>
<hr />
<h2 id="questions-de-comprehension">Questions de compréhension</h2>
<ol>
<li>Quelle est la différence entre <code>started</code>, <code>performed</code> et <code>canceled</code>?</li>
<li>Pourquoi faut-il appeler <code>Enable()</code> et <code>Disable()</code>?</li>
<li>Comment obtenir la position de la souris avec Input Actions?</li>
<li>Pourquoi utiliser Input Actions plutôt que l'ancien <code>Input.GetMouseButtonDown()</code>?</li>
<li>Comment associer 5 touches différentes à 5 valeurs différentes?</li>
</ol>
<hr />












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": [], "search": "../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>